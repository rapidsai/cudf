name: spark-rapids-jni

on:
  workflow_call:

jobs:
  spark-rapids-jni-build:
    runs-on: linux-amd64-cpu8
    container:
      image: peixinl198/spark-rapids-jni:rockylinux8-cuda12.2.0
    steps:
      - uses: actions/checkout@v4
        with:
          repository: NVIDIA/spark-rapids-jni
          submodules: recursive
      - uses: actions/checkout@v4
        with:
          path: thirdparty/cudf
      - run: |
          git config --global safe.directory $(pwd)
          git status
          git diff thirdparty/cudf
